<html>
<head>
<link rel="stylesheet" href="css/style.css">
<script src="w3.js"></script>
<style>
ul {
  list-style-type: none;
}
</style>
</head>
<body>
<div class="topnav">
  <button class="navbutton" onclick="location.href='profile.html'" disabled>Profile</button>
  <button class="navbutton" onclick="location.href='search.html'">Search</button>
  <button class="navbutton" onclick="location.href='contract.html'">Contract</button>
</div>
<h1>Profile</h1>
  <div class=row>
    <div class=lcol>
      Name:<br>
      User ID:<br>
      Address:<br>
      Email:<br>
      Phone Number:<br>
      Current Balance:<br>
      Remaining Hours:<br>
      Registration Date:<br>
      Previous Login:<br>
    </div>
    <div class=rcol>
      <div id="name">
        {{firstName}} {{lastName}} <br>
        {{userID}}
      </div>
      <div id="address">
      	{{address}}
      </div>
      <div id="contact">
      	{{email}} <br>
        {{phone}}
      </div>
      <div id="account">
      	{{balance}} <br>
        {{availableHours}} <br>
        {{dateCreated}} <br>
        {{lastLogin}}
      </div>
    </div>
  </div>


  <script>
    var myObject= {"firstName" : "John", "lastName" : "Doe", "userID" : "0"};
    w3.displayObject("name", myObject);

    myObject = {"address" : "1234 Hamster Drive"};
    w3.displayObject("address", myObject);

    myObject = {"email" : "person@hamster.com", "phone" : "1234567890"};
    w3.displayObject("contact", myObject);

    myObject = {"balance" : "$2000", "availableHours" : "10", "dateCreated" : "12/12/2012", "lastLogin" : "12/12/2012"}
    w3.displayObject("account", myObject);
  </script>

  <h2>Your Care Recipients</h2>
  <ul id="recipients"></ul>
  <script>
    let data = ["Ma", "Pa"];
    let list = document.getElementById("recipients");
    for (i = 0; i < data.length; ++i) {
      let li = document.createElement('li');
      li.innerText = data[i];
      list.appendChild(li);
    }
  </script>
  <br>
  <button class="navbutton" onclick="location.href='addrecipient.html'">Add Recipient</button>
  <br>
  <br>
  <h2>Your Active Contracts</u2>
  <ul id="contractlist">
    <li w3-repeat="contracts"><a href="viewcontract.htm#{{contractID}}"> {{contractID}}</a><br>
	{{firstName}} {{lastName}}<br>
	{{startDate}} to {{endDate}}</li>
  </ul>
  <script>
    myObject = {"contracts":[
        {"contractID" : "0", "firstName":"Ham", "lastName":"Ster", "startDate":"1/1/2013", "endDate":"12/12/2050"},
        {"contractID" : "1", "firstName":"Stam", "lastName":"Her", "startDate":"10/10/2020", "endDate":"1/2/3456"}]};
    w3.displayObject("contractlist", myObject);
  </script>
  <p id="rating"></p>
    <div class=row>
      <div class=lcol>
      	<ul id="ratingID"></ul>
      </div>
      <div class=rcol>
        <ul id="reviews"></ul>
      </div>
    </div>

  <script>
    let reviewData = [5.0, 4.0, 5.0, 5.0, 4.5, 3.5, 4.5, 5.0, 5.0, 4.0];
    let reviewIDs = [0,1,2,3,4,5,6,7,8,9];
    let reviews = document.getElementById("reviews");
    let rating = document.getElementById("rating");
    let ratingID = document.getElementById("ratingID");
    
    let sum = 0;
    for (i = 0; i < reviewData.length; i++) {
      sum += reviewData[i];
    }
    reviewAvg = sum / reviewData.length;
    
   	rating.innerHTML = "<b>Your Rating: </b>" + reviewAvg;
    
    for (i = 0; i < reviewData.length; ++i) {
      let li = document.createElement('li');
      let li2 = document.createElement('li');
      li.innerHTML = "<a href='#" + reviewIDs[i] + "'>" + reviewIDs[i] + ": </a>";
      li2.innerText = reviewData[i];
      ratingID.appendChild(li);
      reviews.appendChild(li2);
    }
  </script>
  
  <br>
</body>
</html>

